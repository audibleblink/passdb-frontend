import{b as ee,d as ke,e as K,c as u,f as L}from"../chunks/CBa6YeNv.js";import{i as ie}from"../chunks/D9r2v96-.js";import{L as H,z as ae,k as te,A as we,P as be,n as se,e as ye,q as Le,f as $e,j as Ce,c as z,p as de,K as F,b as ne,M as a,N as e,O as v,E as d,g as t,d as le,G as je,l as Be,a as Pe,s as He,m as Me}from"../chunks/CcQSGzXg.js";import{p as Te,i as y,s as ze,a as De}from"../chunks/CSbn2Ldu.js";import{s as re,p as Re}from"../chunks/C-0S9jGX.js";import{u as Se,L as Ee,S as Ne}from"../chunks/ChoBOLD_.js";import{s as b}from"../chunks/CkeX2SFv.js";import{e as Ae,i as Ie}from"../chunks/pk0RzIpj.js";function Oe(_,m,x=!1,n=!1,$=!1){var l=_,p="";H(()=>{var o=we;if(p===(p=m()??"")){ae&&te();return}if(o.nodes_start!==null&&(be(o.nodes_start,o.nodes_end),o.nodes_start=o.nodes_end=null),p!==""){if(ae){se.data;for(var i=te(),g=i;i!==null&&(i.nodeType!==8||i.data!=="");)g=i,i=ye(i);if(i===null)throw Le(),$e;ee(se,g),l=Ce(i);return}var c=p+"";x?c=`<svg>${c}</svg>`:n&&(c=`<math>${c}</math>`);var s=ke(c);if((x||n)&&(s=z(s)),ee(z(s),s.lastChild),x||n)for(;z(s);)l.before(z(s));else l.before(s)}})}function oe(_){const m=document.createElement("div");return m.textContent=_,m.innerHTML}var qe=L('<div class="max-w-4xl mx-auto mt-8"><!></div>'),Ke=L('<div class="max-w-4xl mx-auto"><div class="mt-8 bg-accent/10 border border-accent/30 rounded-lg p-4"><div class="flex"><div class="flex-shrink-0"><svg class="h-5 w-5 text-amber-600 dark:text-amber-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg></div> <div class="ml-3"><h3 class="text-sm font-medium text-accent-foreground">Unable to check breaches</h3> <p class="mt-1 text-sm text-accent-foreground"> </p></div></div></div></div>'),Fe=L('<div class="flex-shrink-0"><img class="w-12 h-12 rounded-lg object-cover shadow-sm"/></div>'),Ge=L('<div class="p-6"><div class="flex items-start space-x-4"><!> <div class="flex-1 min-w-0"><div class="flex items-center justify-between"><h4 class="text-lg font-medium text-card-foreground"> </h4> <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-destructive/10 text-destructive"> </span></div> <div class="mt-2 flex items-center space-x-4 text-sm text-muted-foreground"><span class="flex items-center"><svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 0l-3-3m3 3l-3 3"></path></svg> </span> <span class="flex items-center"><svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3a4 4 0 118 0v4m-4 6v8m-6 0h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2z"></path></svg> </span></div> <div class="mt-3 text-sm text-card-foreground"><!></div></div></div></div>'),Ue=L('<div class="max-w-4xl mx-auto mt-8 bg-card rounded-lg shadow-md"><div class="px-6 py-4 border-b border-border"><h3 class="text-lg font-semibold text-card-foreground">Data Breaches</h3> <p class="text-sm text-muted-foreground"> </p></div> <div class="divide-y divide-border"></div></div>'),Ve=L(`<div class="max-w-4xl mx-auto mt-8 text-center py-6"><svg class="mx-auto h-12 w-12 text-emerald-600 dark:text-emerald-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> <h3 class="mt-2 text-sm font-medium text-foreground">No breaches found</h3> <p class="mt-1 text-sm text-muted-foreground">This email hasn't been found in any known data breaches</p></div>`);function Ye(_,m){de(m,!1);let x=Te(m,"email",8);const{data:n,loading:$,error:l,isSuccess:p}=Se(`/breaches/${x()}`);ie();var o=K(),i=F(o);{var g=s=>{var f=qe(),D=a(f);Ee(D,{type:"spinner",message:"Checking breach databases..."}),e(f),u(s,f)},c=(s,f)=>{{var D=h=>{var C=Ke(),M=a(C),k=a(M),j=v(a(k),2),T=v(a(j),2),R=a(T,!0);e(T),e(j),e(k),e(M),e(C),H(()=>b(R,d(()=>l.message))),u(h,C)},ve=(h,C)=>{{var M=k=>{var j=K(),T=F(j);{var R=w=>{var B=Ue(),S=a(B),G=v(a(S),2),ce=a(G);e(G),e(S);var U=v(S,2);Ae(U,5,()=>n,Ie,(fe,r)=>{var E=Ge(),V=a(E),Y=a(V);{var ue=P=>{var q=Fe(),Z=a(q);e(q),H(()=>{re(Z,"src",(t(r),d(()=>t(r).LogoPath))),re(Z,"alt",(t(r),d(()=>t(r).Title)))}),u(P,q)};y(Y,P=>{t(r),d(()=>t(r).LogoPath)&&P(ue)})}var J=v(Y,2),N=a(J),A=a(N),pe=a(A,!0);e(A);var Q=v(A,2),_e=a(Q);e(Q),e(N);var I=v(N,2),O=a(I),xe=v(a(O));e(O);var W=v(O,2),ge=v(a(W));e(W),e(I);var X=v(I,2),he=a(X);Oe(he,()=>(je(oe),t(r),d(()=>oe(t(r).Description)))),e(X),e(J),e(V),e(E),H(P=>{b(pe,(t(r),d(()=>t(r).Title))),b(_e,`${P??""} accounts`),b(xe,` ${t(r),d(()=>t(r).Domain)??""}`),b(ge,` ${t(r),d(()=>t(r).Date)??""}`)},[()=>(t(r),d(()=>Number(t(r).Count).toLocaleString()))],le),u(fe,E)}),e(U),e(B),H(()=>b(ce,`Found ${d(()=>n.length)??""} breach${d(()=>n.length!==1?"es":"")??""} for this email`)),u(w,B)},me=w=>{var B=Ve();u(w,B)};y(T,w=>{d(()=>n.length>0)?w(R):w(me,!1)})}u(k,j)};y(h,k=>{p&&n&&k(M)},C)}};y(s,h=>{l?h(D):h(ve,!1)},f)}};y(i,s=>{$?s(g):s(c,!1)})}u(_,o),ne()}function sa(_,m){de(m,!1);const[x,n]=ze(),$=()=>De(Re,"$page",x),l=Me();Be(()=>$(),()=>{He(l,$().params.email)}),Pe(),ie();const p=le(()=>({email:t(l)}));Ne(_,{get params(){return t(p)},apiPath:"emails",paramKey:"email",breadcrumbLabel:"Email",formatBreadcrumb:o=>o,children:(o,i)=>{var g=K(),c=F(g);{var s=f=>{Ye(f,{get email(){return t(l)}})};y(c,f=>{t(l)&&f(s)})}u(o,g)},$$slots:{default:!0}}),ne(),n()}export{sa as component};
