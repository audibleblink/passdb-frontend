import{$ as Rt,a0 as It,a1 as dt,a2 as zt,a3 as jt}from"./ui-core-B_4N-NAT.js";import{l as I,m as S,n as k,q as P,v as s,w as z,O as pe,P as K,Q as E,g as t,d as V,S as ee,L as Lt,x as U,c as He,p as it,f as Dt,s as $,z as T,A as h,B as J,D as Y,C as c,y as Q,a2 as W,a1 as Et,M as C,W as ve,_ as ue,a6 as Ue,a3 as Ae,ah as Ht,R as $e,aa as fe,al as ft,K as Kt,aj as Ot,U as ye,u as M,am as bt,Y as O,a4 as Nt,a8 as we,a9 as pt,X as Vt,an as $t,J as wt}from"./vendor-CxdAFhFm.js";import{c as Gt,g as Ut,a as At,b as qt,d as Jt}from"./ui-table-DtK7o0-L.js";import{c as te,I as mt,B as De,a as yt,b as Ge,n as kt,k as rt}from"./index-C_4_lieI.js";import"./utils-CrnFNr_o.js";class Pt{component;props;constructor(e,r={}){this.component=e,this.props=r}}class Yt{snippet;params;constructor(e,r){this.snippet=e,this.params=r}}function nt(l,e){return new Pt(l,e)}function st(l,e){I(e,!0);var r=S(),v=k(r);{var n=a=>{var f=pe();K(()=>E(f,e.content)),s(a,f)},o=(a,f)=>{{var d=g=>{var m=S();const i=V(()=>e.content(e.context));var x=k(m);{var b=_=>{var F=S();const L=V(()=>{const{component:w,props:u}=t(i);return{Component:w,props:u}});var R=k(F);ee(R,()=>t(L).Component,(w,u)=>{u(w,Lt(()=>t(L).props))}),s(_,F)},y=(_,F)=>{{var L=w=>{var u=S();const B=V(()=>{const{snippet:j,params:N}=t(i);return{snippet:j,params:N}});var H=k(u);U(H,()=>t(B).snippet,()=>t(B).params),s(w,u)},R=w=>{var u=pe();K(()=>E(u,t(i))),s(w,u)};P(_,w=>{t(i)instanceof Yt?w(L):w(R,!1)},F)}};P(x,_=>{t(i)instanceof Pt?_(b):_(y,!1)})}s(g,m)};P(a,g=>{e.content instanceof Function&&g(d)},f)}};P(v,a=>{typeof e.content=="string"?a(n):a(o,!1)})}s(l,r),z()}function Qt(l){const e=Ee({state:{},onStateChange(){},renderFallbackValue:null,mergeOptions:(o,a)=>Ee(o,a)},l),r=Gt(e);let v=He(it(r.initialState));function n(){r.setOptions(o=>Ee(o,l,{state:Ee(t(v),l.state||{}),onStateChange:a=>{a instanceof Function?$(v,a(t(v)),!0):$(v,Ee(t(v),a),!0),l.onStateChange?.(a)}}))}return n(),Dt(()=>{n()}),r}function Ee(...l){const e={};for(let r=0;r<l.length;r++){let v=l[r];if(typeof v=="function"&&(v=v()),v){const n=Object.getOwnPropertyDescriptors(v);for(const o in n)o in e||Object.defineProperty(e,o,{enumerable:!0,get(){for(let a=l.length-1;a>=0;a--){let f=l[a];typeof f=="function"&&(f=f());const d=(f||{})[o];if(d!==void 0)return d}}})}}return e}var Wt=h('<div class="relative w-full overflow-auto"><table><!></table></div>');function Xt(l,e){I(e,!0);let r=T(e,"ref",15,null),v=Y(e,["$$slots","$$events","$$legacy","ref","class","children"]);var n=Wt(),o=c(n);J(o,f=>({class:f,...v}),[()=>te("w-full caption-bottom text-sm",e.class)]);var a=c(o);U(a,()=>e.children??Q),W(o,f=>r(f),()=>r()),s(l,n),z()}var Zt=h("<tbody><!></tbody>");function ea(l,e){I(e,!0);let r=T(e,"ref",15,null),v=Y(e,["$$slots","$$events","$$legacy","ref","class","children"]);var n=Zt();J(n,a=>({class:a,...v}),[()=>te("[&_tr:last-child]:border-0",e.class)]);var o=c(n);U(o,()=>e.children??Q),W(n,a=>r(a),()=>r()),s(l,n),z()}var ta=h("<td><!></td>");function gt(l,e){I(e,!0);let r=T(e,"ref",15,null),v=Y(e,["$$slots","$$events","$$legacy","ref","class","children"]);var n=ta();J(n,a=>({class:a,...v}),[()=>te("p-4 align-middle [&:has([role=checkbox])]:pr-0",e.class)]);var o=c(n);U(o,()=>e.children??Q),W(n,a=>r(a),()=>r()),s(l,n),z()}var aa=h("<th><!></th>");function ra(l,e){I(e,!0);let r=T(e,"ref",15,null),v=Y(e,["$$slots","$$events","$$legacy","ref","class","children"]);var n=aa();J(n,a=>({class:a,...v}),[()=>te("text-muted-foreground h-12 px-4 text-left align-middle font-medium [&:has([role=checkbox])]:pr-0",e.class)]);var o=c(n);U(o,()=>e.children??Q),W(n,a=>r(a),()=>r()),s(l,n),z()}var na=h("<thead><!></thead>");function sa(l,e){I(e,!0);let r=T(e,"ref",15,null),v=Y(e,["$$slots","$$events","$$legacy","ref","class","children"]);var n=na();J(n,a=>({class:a,...v}),[()=>te("[&_tr]:border-b",e.class)]);var o=c(n);U(o,()=>e.children??Q),W(n,a=>r(a),()=>r()),s(l,n),z()}var oa=h("<tr><!></tr>");function ot(l,e){I(e,!0);let r=T(e,"ref",15,null),v=Y(e,["$$slots","$$events","$$legacy","ref","class","children"]);var n=oa();J(n,a=>({class:a,...v}),[()=>te("hover:bg-secondary/20 hover:text-secondary-foreground data-[state=selected]:bg-muted border-b transition-colors",e.class)]);var o=c(n);U(o,()=>e.children??Q),W(n,a=>r(a),()=>r()),s(l,n),z()}const ht="passdb-table-settings",Ve={pageSize:15};function la(){const l=(()=>{if(typeof window<"u")try{const o=localStorage.getItem(ht);if(o){const a=JSON.parse(o);return{...Ve,...a}}}catch(o){console.warn("Failed to parse table settings from localStorage:",o)}return Ve})(),{subscribe:e,set:r,update:v}=Et(l);function n(o){if(typeof window<"u")try{localStorage.setItem(ht,JSON.stringify(o))}catch(a){console.warn("Failed to save table settings to localStorage:",a)}}return{subscribe:e,setPageSize:o=>{v(a=>{const f={...a,pageSize:o};return n(f),f})},reset:()=>{n(Ve),r(Ve)}}}const _t=la();var ia=h('<div class="text-sm text-muted-foreground flex-shrink-0"><!></div>'),da=h("<!> <!>",1),ca=h("<!> <!>",1),va=h('<div class="space-y-4"><div class="flex items-center justify-between gap-4 flex-wrap"><div class="flex-1 max-w-sm min-w-0"><!></div> <!> <div class="flex items-center space-x-2 flex-shrink-0"><!> <!> <span class="text-sm text-muted-foreground"> </span> <!> <!></div></div> <div class="bg-card rounded-lg shadow-md border-border overflow-hidden"><!></div> <div class="flex items-center justify-end gap-2"><span class="text-sm text-muted-foreground">Items per page:</span> <!></div></div>');function ua(l,e){I(e,!0);const[r,v]=Ue(),n=()=>Ae(_t,"$tableSettings",r),o=V(()=>e.pageSize||n().pageSize);let a=He(""),f=He(it([])),d=He(it([])),g=He(0);const m=V(()=>({pageIndex:t(g),pageSize:t(o)})),i=Qt({get data(){return e.data},get columns(){return e.columns},getCoreRowModel:Jt(),getSortedRowModel:qt(),getFilteredRowModel:At(),getPaginationRowModel:Ut(),state:{get globalFilter(){return t(a)},get sorting(){return t(f)},get columnFilters(){return t(d)},get pagination(){return t(m)}},onGlobalFilterChange:p=>{$(a,typeof p=="function"?p(t(a)):p,!0),$(g,0)},onSortingChange:p=>{$(f,typeof p=="function"?p(t(f)):p,!0)},onColumnFiltersChange:p=>{$(d,typeof p=="function"?p(t(d)):p,!0)},onPaginationChange:p=>{const D=typeof p=="function"?p(t(m)):p;$(g,D.pageIndex,!0)},globalFilterFn:"includesString"});function x(p){const D=p.target;i.setGlobalFilter(D.value)}var b=va(),y=c(b),_=c(y),F=c(_);const L=V(()=>i.getState().globalFilter??"");mt(F,{placeholder:"Filter results...",get value(){return t(L)},oninput:x,class:"w-full","data-filter-input":!0});var R=C(_,2);{var w=p=>{var D=ia(),Z=c(D);{var oe=G=>{var ge=pe();K((Se,Ce)=>E(ge,`Showing ${Se??""} of ${Ce??""} results`),[()=>i.getFilteredRowModel().rows.length,()=>i.getCoreRowModel().rows.length]),s(G,ge)},de=G=>{var ge=pe("No results found for current filter");s(G,ge)};P(Z,G=>{i.getFilteredRowModel().rows.length>0?G(oe):G(de,!1)})}s(p,D)};P(R,p=>{i.getState().globalFilter&&i.getState().globalFilter.length>0&&p(w)})}var u=C(R,2),B=c(u);const H=V(()=>!i.getCanPreviousPage());De(B,{variant:"outline",size:"sm",onclick:()=>i.setPageIndex(0),get disabled(){return t(H)},children:(p,D)=>{Rt(p,{class:"h-4 w-4"})},$$slots:{default:!0}});var j=C(B,2);const N=V(()=>!i.getCanPreviousPage());De(j,{variant:"outline",size:"sm",onclick:()=>i.previousPage(),get disabled(){return t(N)},"data-pagination-prev":!0,children:(p,D)=>{It(p,{class:"h-4 w-4"})},$$slots:{default:!0}});var ne=C(j,2),X=c(ne),se=C(ne,2);const le=V(()=>!i.getCanNextPage());De(se,{variant:"outline",size:"sm",onclick:()=>i.nextPage(),get disabled(){return t(le)},"data-pagination-next":!0,children:(p,D)=>{dt(p,{class:"h-4 w-4"})},$$slots:{default:!0}});var ke=C(se,2);const Pe=V(()=>!i.getCanNextPage());De(ke,{variant:"outline",size:"sm",onclick:()=>i.setPageIndex(i.getPageCount()-1),get disabled(){return t(Pe)},children:(p,D)=>{zt(p,{class:"h-4 w-4"})},$$slots:{default:!0}});var ie=C(y,2),A=c(ie);ee(A,()=>Xt,(p,D)=>{D(p,{children:(Z,oe)=>{var de=ca(),G=k(de);ee(G,()=>sa,(Se,Ce)=>{Ce(Se,{class:"bg-muted/50",children:(qe,Ct)=>{var Fe=S(),Je=k(Fe);ve(Je,17,()=>i.getHeaderGroups(),ue,(Ye,Qe)=>{var re=S(),ce=k(re);ee(ce,()=>ot,(Be,Me)=>{Me(Be,{class:" border-border hover:bg-transparent bg-background",children:(Te,Ke)=>{var he=S(),_e=k(he);ve(_e,17,()=>t(Qe).headers,ue,(Re,q)=>{var xe=S(),Oe=k(xe);ee(Oe,()=>ra,(Ie,ze)=>{ze(Ie,{class:"text-card-foreground font-semibold",children:(We,Xe)=>{var je=S(),Ze=k(je);{var et=Le=>{var Ne=S(),ct=k(Ne);{var tt=be=>{const at=V(()=>t(q).column.getToggleSortingHandler());De(be,{variant:"ghost",get onclick(){return t(at)},class:"h-auto p-0 font-semibold hover:bg-secondary hover:text-secondary-foreground",children:(Bt,ir)=>{var vt=da(),ut=k(vt);const Mt=V(()=>t(q).getContext());st(ut,{get content(){return t(q).column.columnDef.header},get context(){return t(Mt)}});var Tt=C(ut,2);jt(Tt,{class:"ml-2 h-4 w-4"}),s(Bt,vt)},$$slots:{default:!0}})},Ft=be=>{const at=V(()=>t(q).getContext());st(be,{get content(){return t(q).column.columnDef.header},get context(){return t(at)}})};P(ct,be=>{t(q).column.getCanSort()?be(tt):be(Ft,!1)})}s(Le,Ne)};P(Ze,Le=>{t(q).isPlaceholder||Le(et)})}s(We,je)},$$slots:{default:!0}})}),s(Re,xe)}),s(Te,he)},$$slots:{default:!0}})}),s(Ye,re)}),s(qe,Fe)},$$slots:{default:!0}})});var ge=C(G,2);ee(ge,()=>ea,(Se,Ce)=>{Ce(Se,{children:(qe,Ct)=>{var Fe=S(),Je=k(Fe);{var Ye=re=>{var ce=S(),Be=k(ce);ve(Be,17,()=>i.getRowModel().rows,ue,(Me,Te,Ke)=>{var he=S(),_e=k(he);ee(_e,()=>ot,(Re,q)=>{q(Re,{class:`border-b border-border/50 transition-colors ${Ke%2===0?"bg-background/75 hover:bg-secondary/20":"bg-background/90 hover:bg-secondary/30"}`,"data-table-row":!0,children:(xe,Oe)=>{var Ie=S(),ze=k(Ie);ve(ze,17,()=>t(Te).getVisibleCells(),ue,(We,Xe)=>{var je=S(),Ze=k(je);ee(Ze,()=>gt,(et,Le)=>{Le(et,{class:"text-card-foreground","data-table-cell":!0,children:(Ne,ct)=>{const tt=V(()=>t(Xe).getContext());st(Ne,{get content(){return t(Xe).column.columnDef.cell},get context(){return t(tt)}})},$$slots:{default:!0}})}),s(We,je)}),s(xe,Ie)},$$slots:{default:!0}})}),s(Me,he)}),s(re,ce)},Qe=re=>{var ce=S(),Be=k(ce);ee(Be,()=>ot,(Me,Te)=>{Te(Me,{children:(Ke,he)=>{var _e=S(),Re=k(_e);ee(Re,()=>gt,(q,xe)=>{xe(q,{get colspan(){return e.columns.length},class:"h-24 text-center",children:(Oe,Ie)=>{var ze=pe("No results found.");s(Oe,ze)},$$slots:{default:!0}})}),s(Ke,_e)},$$slots:{default:!0}})}),s(re,ce)};P(Je,re=>{i.getRowModel().rows?.length?re(Ye):re(Qe,!1)})}s(qe,Fe)},$$slots:{default:!0}})}),s(Z,de)},$$slots:{default:!0}})});var ae=C(ie,2),me=C(c(ae),2);mt(me,{type:"number",min:"1",max:"1000",get value(){return i.getState().pagination.pageSize},oninput:p=>{const D=p.target,Z=parseInt(D.value);Z>0&&Z<=1e3&&(i.setPageSize(Z),_t.setPageSize(Z))},class:"w-20 h-8 text-center"}),K((p,D)=>E(X,`Page ${p??""} of ${D??""}`),[()=>i.getState().pagination.pageIndex+1,()=>Math.max(1,i.getPageCount())]),s(l,b),z(),v()}var fa=(l,e,r)=>e(`/email/${r.username}@${r.domain}`,`Email: ${r.username}@${r.domain}`),ma=h('<button class="text-muted-foreground hover:text-secondary-foreground transition-colors" title="View email breach info"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></button>'),ga=h('<div class="w-4 h-4"></div>'),ha=(l,e,r)=>e(`/username/${r.username}`,`Username: ${r.username}`),_a=h('<button class="text-primary hover:text-secondary-foreground hover:underline cursor-pointer transition-colors"> </button>'),xa=h('<span class="text-muted-foreground">-</span>'),ba=h('<div class="flex items-center gap-2"><!> <!></div>'),pa=(l,e,r)=>e(`/domain/${r.domain}`,`Domain: ${r.domain}`),wa=h('<button class="text-primary hover:text-primary/80 hover:underline cursor-pointer transition-colors"> </button>'),ya=h('<span class="text-muted-foreground">-</span>'),ka=(l,e,r)=>e(`/password/${r.password}`,`Password: ${r.password.length>20?r.password.substring(0,20)+"...":r.password}`),Pa=h('<button class="text-primary hover:text-secondary-foreground hover:underline cursor-pointer transition-colors block truncate hover:whitespace-normal hover:break-all"> </button>'),Sa=h('<span class="text-muted-foreground">-</span>'),Ca=h('<div class="font-mono max-w-xs"><!></div>');function lt(l,e){I(e,!0);const[r,v]=Ue(),n=()=>Ae(yt,"$currentRoute",r);let o=T(e,"showEmailLink",3,!1);function a(i,x){Ge.addBreadcrumb(x,i),kt(i)}var f=S(),d=k(f);{var g=i=>{var x=ba(),b=c(x);{var y=w=>{var u=ma();u.__click=[fa,a,e],K(()=>$e(u,"aria-label",`View email breach info for ${e.username??""}@${e.domain??""}`)),s(w,u)},_=(w,u)=>{{var B=H=>{var j=ga();s(H,j)};P(w,H=>{o()&&!n().match("/email/")&&H(B)},u)}};P(b,w=>{o()&&!n().match("/email/")&&e.username&&e.username!=="-"&&e.domain&&e.domain!=="-"?w(y):w(_,!1)})}var F=C(b,2);{var L=w=>{var u=_a();u.__click=[ha,a,e];var B=c(u);K(()=>E(B,e.username)),s(w,u)},R=w=>{var u=xa();s(w,u)};P(F,w=>{e.username&&e.username!=="-"?w(L):w(R,!1)})}s(i,x)},m=(i,x)=>{{var b=_=>{var F=S(),L=k(F);{var R=u=>{var B=wa();B.__click=[pa,a,e];var H=c(B);K(()=>E(H,e.domain)),s(u,B)},w=u=>{var B=ya();s(u,B)};P(L,u=>{e.domain&&e.domain!=="-"?u(R):u(w,!1)})}s(_,F)},y=(_,F)=>{{var L=R=>{var w=Ca(),u=c(w);{var B=j=>{var N=Pa();N.__click=[ka,a,e];var ne=c(N);K(()=>{$e(N,"title",e.password),E(ne,e.password)}),s(j,N)},H=j=>{var N=Sa();s(j,N)};P(u,j=>{e.password&&e.password!=="-"?j(B):j(H,!1)})}s(R,w)};P(_,R=>{e.type==="password"&&R(L)},F)}};P(i,_=>{e.type==="domain"?_(b):_(y,!1)},x)}};P(d,i=>{e.type==="username"?i(g):i(m,!1)})}s(l,f),z(),v()}Ht(["click"]);const Fa=[{accessorKey:"username",header:"Username",enableSorting:!0,enableGlobalFilter:!0,cell:({row:l})=>{const e=l.getValue("username"),r=l.original.domain;return nt(lt,{type:"username",username:e,domain:r,showEmailLink:!0})}},{accessorKey:"domain",header:"Domain",enableSorting:!0,enableGlobalFilter:!0,cell:({row:l})=>{const e=l.getValue("domain");return nt(lt,{type:"domain",domain:e})}},{accessorKey:"password",header:"Password",enableSorting:!1,enableGlobalFilter:!0,cell:({row:l})=>{const e=l.getValue("password");return nt(lt,{type:"password",password:e})}}];var Ba=h('<div class="max-w-4xl mx-auto"><!></div>');function Ma(l,e){I(e,!1);let r="";typeof window<"u"&&(r=window.location.search.substring(1));let v=T(e,"results",8);const n=(r||"").split("&").filter(Boolean),o=fe(n.reduce((d,g)=>{const[m,i]=g.split("=");return m&&i&&(d[m]=i),d},{}));ft(o,t(o).page=t(o).page?parseInt(String(t(o).page)):1),ft(o,t(o).per_page=t(o).per_page?parseInt(String(t(o).per_page)):void 0),Kt(()=>{rt.setupResultsShortcuts(),rt.setupTableShortcuts()}),Ot(()=>{rt.setContext("global")}),ye();var a=Ba(),f=c(a);ua(f,{get columns(){return Fa},get data(){return v()},get pageSize(){return t(o),M(()=>t(o).per_page)}}),s(l,a),z()}var Ta=h('<p class="mt-4 text-muted-foreground"> </p>'),Ra=h('<div class="flex flex-col items-center justify-center p-8"><div class="animate-spin rounded-full h-12 w-12 border-b-2 border-primary"></div> <!></div>'),Ia=h('<div class="animate-pulse"><div class="h-4 bg-muted rounded w-3/4 mb-2"></div> <div class="h-4 bg-muted rounded w-1/2"></div></div>'),za=h('<div class="space-y-4 p-4"></div>'),ja=h('<div class="flex items-center justify-center space-x-2 p-8"><div class="w-3 h-3 bg-primary rounded-full animate-bounce" style="animation-delay: 0ms"></div> <div class="w-3 h-3 bg-primary rounded-full animate-bounce" style="animation-delay: 150ms"></div> <div class="w-3 h-3 bg-primary rounded-full animate-bounce" style="animation-delay: 300ms"></div></div>');function St(l,e){let r=T(e,"type",3,"spinner"),v=T(e,"message",3,"");var n=S(),o=k(n);{var a=d=>{var g=Ra(),m=C(c(g),2);{var i=x=>{var b=Ta(),y=c(b);K(()=>E(y,v())),s(x,b)};P(m,x=>{v()&&x(i)})}s(d,g)},f=(d,g)=>{{var m=x=>{var b=za();ve(b,20,()=>Array(3),ue,(y,_)=>{var F=Ia();s(y,F)}),s(x,b)},i=(x,b)=>{{var y=_=>{var F=ja();s(_,F)};P(x,_=>{r()==="dots"&&_(y)},b)}};P(d,x=>{r()==="skeleton"?x(m):x(i,!1)},g)}};P(o,d=>{r()==="spinner"?d(a):d(f,!1)})}s(l,n)}var La=h('<div class="max-w-4xl mx-auto"><div class="text-center py-12"><svg class="mx-auto h-12 w-12 text-muted-foreground" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> <h3 class="mt-2 text-sm font-medium text-foreground">No results found</h3> <p class="mt-1 text-sm text-muted-foreground">Try adjusting your search terms</p></div></div>'),Da=h('<div class="max-w-4xl mx-auto"><div class="bg-destructive/10 border border-destructive/30 rounded-lg p-6"><div class="flex"><div class="flex-shrink-0"><svg class="h-5 w-5 text-destructive" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div> <div class="ml-3"><h3 class="text-sm font-medium text-destructive">Failed to fetch results</h3> <p class="mt-2 text-sm text-destructive"> </p> <p class="mt-2 text-sm text-destructive">Please check your API host configuration and try again.</p></div></div></div></div>'),Ea=h('<div class="px-4 py-8"><!></div>');function Ha(l,e){I(e,!1);let r=T(e,"endpoint",8),v=localStorage.getItem("host")||"http://localhost:4567",n=0;const o=3;async function a(g){try{const m=await fetch(`${v}${g}`);if(!m.ok){let x=`HTTP ${m.status}`;try{const b=await m.text();b?x+=`: ${b}`:x+=` - ${m.statusText}`}catch{x+=` - ${m.statusText}`}throw new Error(x)}const i=await m.json();return n=0,i}catch(m){if(n<o)return n++,await new Promise(i=>setTimeout(i,1e3*Math.pow(2,n))),a(g);throw m instanceof Error?m:new Error(`Network error: ${String(m)}`)}}ye();var f=Ea(),d=c(f);bt(d,()=>(O(r()),M(()=>a(r()))),g=>{St(g,{type:"spinner",message:"Searching database..."})},(g,m)=>{var i=S(),x=k(i);{var b=_=>{var F=La();s(_,F)},y=_=>{Ma(_,{get results(){return t(m)}})};P(x,_=>{O(t(m)),M(()=>t(m).length===0)?_(b):_(y,!1)})}s(g,i)},(g,m)=>{var i=Da(),x=c(i),b=c(x),y=C(c(b),2),_=C(c(y),2),F=c(_);K(()=>E(F,(O(t(m)),M(()=>t(m).message)))),s(g,i)}),s(l,f),z()}var Ka=h("<nav><!></nav>");function Oa(l,e){I(e,!0);let r=T(e,"ref",15),v=Y(e,["$$slots","$$events","$$legacy","ref","class","children"]);var n=Ka();J(n,()=>({class:e.class,"aria-label":"breadcrumb",...v}));var o=c(n);U(o,()=>e.children??Q),W(n,a=>r(a),()=>r()),s(l,n),z()}var Na=h("<li><!></li>");function Va(l,e){I(e,!0);let r=T(e,"ref",15,null),v=Y(e,["$$slots","$$events","$$legacy","ref","class","children"]);var n=Na();J(n,a=>({class:a,...v}),[()=>te("inline-flex items-center gap-1.5",e.class)]);var o=c(n);U(o,()=>e.children??Q),W(n,a=>r(a),()=>r()),s(l,n),z()}var $a=h("<li><!></li>");function Ga(l,e){I(e,!0);let r=T(e,"ref",15,null),v=Y(e,["$$slots","$$events","$$legacy","ref","class","children"]);var n=$a();J(n,d=>({role:"presentation","aria-hidden":"true",class:d,...v}),[()=>te("[&>svg]:size-3.5",e.class)]);var o=c(n);{var a=d=>{var g=S(),m=k(g);U(m,()=>e.children??Q),s(d,g)},f=d=>{dt(d,{})};P(o,d=>{e.children?d(a):d(f,!1)})}W(n,d=>r(d),()=>r()),s(l,n),z()}var Ua=h("<ol><!></ol>");function Aa(l,e){I(e,!0);let r=T(e,"ref",15,null),v=Y(e,["$$slots","$$events","$$legacy","ref","class","children"]);var n=Ua();J(n,a=>({class:a,...v}),[()=>te("text-muted-foreground flex flex-wrap items-center gap-1.5 break-words text-sm sm:gap-2.5",e.class)]);var o=c(n);U(o,()=>e.children??Q),W(n,a=>r(a),()=>r()),s(l,n),z()}var qa=h("<span><!></span>");function Ja(l,e){I(e,!0);let r=T(e,"ref",15,null),v=Y(e,["$$slots","$$events","$$legacy","ref","class","children"]);var n=qa();J(n,a=>({role:"link","aria-disabled":"true","aria-current":"page",class:a,...v}),[()=>te("text-foreground font-normal",e.class)]);var o=c(n);U(o,()=>e.children??Q),W(n,a=>r(a),()=>r()),s(l,n),z()}var Ya=h('<button class="px-2.5 py-1.5 text-sm text-muted-foreground hover:text-secondary-foreground hover:bg-secondary/60 transition-all duration-200 cursor-pointer rounded border border-transparent hover:border-border/40"> </button>'),Qa=h("<!> <!>",1),Wa=h('<div class="max-w-4xl mx-auto mt-6 mb-6 px-4"><div class="bg-muted/20 rounded-md py-2 px-3 border border-border/30"><!></div></div>');function Xa(l,e){I(e,!1);const[r,v]=Ue(),n=()=>Ae(Ge,"$breadcrumbs",r);function o(g,m){Ge.navigateToBreadcrumb(g),kt(m)}ye();var a=S(),f=k(a);{var d=g=>{var m=Wa(),i=c(m),x=c(i);Oa(x,{children:(b,y)=>{Aa(b,{class:"gap-1",children:(_,F)=>{var L=S(),R=k(L);ve(R,1,n,ue,(w,u,B)=>{var H=Qa(),j=k(H);Va(j,{children:(X,se)=>{var le=S(),ke=k(le);{var Pe=A=>{Ja(A,{class:"px-2.5 py-1.5 text-sm font-medium text-foreground bg-background/40 rounded border border-border/40",children:(ae,me)=>{var p=pe();K(()=>E(p,(t(u),M(()=>t(u).label)))),s(ae,p)},$$slots:{default:!0}})},ie=A=>{var ae=Ya(),me=c(ae);K(()=>E(me,(t(u),M(()=>t(u).label)))),Nt("click",ae,()=>o(B,t(u).path)),s(A,ae)};P(ke,A=>{n(),M(()=>B===n().length-1)?A(Pe):A(ie,!1)})}s(X,le)},$$slots:{default:!0}});var N=C(j,2);{var ne=X=>{Ga(X,{class:"mx-1",children:(se,le)=>{dt(se,{class:"h-3 w-3 text-muted-foreground/50"})},$$slots:{default:!0}})};P(N,X=>{n(),M(()=>B<n().length-1)&&X(ne)})}s(w,H)}),s(_,L)},$$slots:{default:!0}})},$$slots:{default:!0}}),s(g,m)};P(f,g=>{n(),M(()=>n().length>1)&&g(d)})}s(l,a),z(),v()}var Za=h('<div class="space-y-8"><!> <div class="px-4 py-8 space-y-8"><!> <!></div></div>');function er(l,e){I(e,!1);const r=fe(),v=fe();let n=fe("");typeof window<"u"&&$(n,window.location.search.substring(1));let o=T(e,"params",24,()=>({})),a=T(e,"apiPath",8),f=T(e,"paramKey",8),d=T(e,"breadcrumbLabel",8),g=T(e,"formatBreadcrumb",8,_=>_);we(()=>(O(o()),O(f())),()=>{$(r,o()[f()])}),we(()=>(O(a()),t(r),t(n)),()=>{$(v,`/api/v1/${a()}/${t(r)}?${t(n)}`)}),we(()=>(t(r),O(g()),O(d())),()=>{if(t(r)){const _=g()(decodeURIComponent(t(r)));Ge.addFromLocation(`${d()}: ${_}`)}}),pt(),ye();var m=Za(),i=c(m);Xa(i,{});var x=C(i,2),b=c(x);Ha(b,{get endpoint(){return t(v)}});var y=C(b,2);Vt(y,e,"default",{}),s(l,m),z()}function xt(l){const e=document.createElement("div");return e.textContent=l,e.innerHTML}var tr=h('<div class="flex-shrink-0"><img class="w-12 h-12 rounded-lg object-cover shadow-sm"/></div>'),ar=h('<div class="p-6"><div class="flex items-start space-x-4"><!> <div class="flex-1 min-w-0"><div class="flex items-center justify-between"><h4 class="text-lg font-medium text-card-foreground"> </h4> <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-destructive/10 text-destructive"> </span></div> <div class="mt-2 flex items-center space-x-4 text-sm text-muted-foreground"><span class="flex items-center"><svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 0l-3-3m3 3l-3 3"></path></svg> </span> <span class="flex items-center"><svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3a4 4 0 118 0v4m-4 6v8m-6 0h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2z"></path></svg> </span></div> <div class="mt-3 text-sm text-card-foreground"><!></div></div></div></div>'),rr=h('<div class="max-w-4xl mx-auto mt-8 bg-card rounded-lg shadow-md"><div class="px-6 py-4 border-b border-border"><h3 class="text-lg font-semibold text-card-foreground">Data Breaches</h3> <p class="text-sm text-muted-foreground"> </p></div> <div class="divide-y divide-border"></div></div>'),nr=h(`<div class="max-w-4xl mx-auto mt-8 text-center py-6"><svg class="mx-auto h-12 w-12 text-emerald-600 dark:text-emerald-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> <h3 class="mt-2 text-sm font-medium text-foreground">No breaches found</h3> <p class="mt-1 text-sm text-muted-foreground">This email hasn't been found in any known data breaches</p></div>`),sr=h('<div class="max-w-4xl mx-auto"><div class="mt-8 bg-accent/10 border border-accent/30 rounded-lg p-4"><div class="flex"><div class="flex-shrink-0"><svg class="h-5 w-5 text-amber-600 dark:text-amber-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg></div> <div class="ml-3"><h3 class="text-sm font-medium text-accent-foreground">Unable to check breaches</h3> <p class="mt-1 text-sm text-accent-foreground"> </p></div></div></div></div>'),or=h('<div class="max-w-4xl mx-auto mt-8"><!></div>');function lr(l,e){I(e,!1);let r=T(e,"email",8),v=localStorage.getItem("host");async function n(f){const d=await fetch(`${v}/breaches/${f}`);if(!d.ok)throw new Error(`HTTP error! status: ${d.status}`);return await d.json()}ye();var o=S(),a=k(o);bt(a,()=>(O(r()),M(()=>n(r()))),f=>{var d=or(),g=c(d);St(g,{type:"spinner",message:"Checking breach databases..."}),s(f,d)},(f,d)=>{var g=S(),m=k(g);{var i=b=>{var y=rr(),_=c(y),F=C(c(_),2),L=c(F),R=C(_,2);ve(R,5,()=>t(d),ue,(w,u)=>{var B=ar(),H=c(B),j=c(H);{var N=oe=>{var de=tr(),G=c(de);K(()=>{$e(G,"src",(t(u),M(()=>t(u).LogoPath))),$e(G,"alt",(t(u),M(()=>t(u).Title)))}),s(oe,de)};P(j,oe=>{t(u),M(()=>t(u).LogoPath)&&oe(N)})}var ne=C(j,2),X=c(ne),se=c(X),le=c(se),ke=C(se,2),Pe=c(ke),ie=C(X,2),A=c(ie),ae=C(c(A)),me=C(A,2),p=C(c(me)),D=C(ie,2),Z=c(D);$t(Z,()=>(O(xt),t(u),M(()=>xt(t(u).Description)))),K(oe=>{E(le,(t(u),M(()=>t(u).Title))),E(Pe,`${oe??""} accounts`),E(ae,` ${t(u),M(()=>t(u).Domain)??""}`),E(p,` ${t(u),M(()=>t(u).Date)??""}`)},[()=>(t(u),M(()=>Number(t(u).Count).toLocaleString()))],wt),s(w,B)}),K(()=>E(L,`Found ${O(t(d)),M(()=>t(d).length)??""} breach${O(t(d)),M(()=>t(d).length!==1?"es":"")??""} for this email`)),s(b,y)},x=b=>{var y=nr();s(b,y)};P(m,b=>{O(t(d)),M(()=>t(d).length>0)?b(i):b(x,!1)})}s(f,g)},(f,d)=>{var g=sr(),m=c(g),i=c(m),x=C(c(i),2),b=C(c(x),2),y=c(b);K(()=>E(y,(O(t(d)),M(()=>t(d).message)))),s(f,g)}),s(l,o),z()}function mr(l,e){I(e,!1);const[r,v]=Ue(),n=()=>Ae(yt,"$currentRoute",r),o=fe(),a=fe(),f=fe();let d=T(e,"params",24,()=>({}));function g(y){return y.length>20?y.substring(0,20)+"...":y}const m={email:{apiPath:"emails",paramKey:"email",label:"Email",hasHIBP:!0,formatter:void 0},domain:{apiPath:"domains",paramKey:"domain",label:"Domain",hasHIBP:!1,formatter:void 0},password:{apiPath:"passwords",paramKey:"password",label:"Password",hasHIBP:!1,formatter:g},username:{apiPath:"usernames",paramKey:"name",label:"Username",hasHIBP:!1,formatter:void 0}};we(()=>n(),()=>{$(o,n().split("/")[1])}),we(()=>t(o),()=>{$(a,m[t(o)])}),we(()=>(O(d()),t(a)),()=>{$(f,d()[t(a)?.paramKey])}),pt(),ye();var i=S(),x=k(i);{var b=y=>{const _=wt(()=>(t(a),M(()=>t(a).formatter||(F=>F))));er(y,{get params(){return d()},get apiPath(){return t(a),M(()=>t(a).apiPath)},get paramKey(){return t(a),M(()=>t(a).paramKey)},get breadcrumbLabel(){return t(a),M(()=>t(a).label)},get formatBreadcrumb(){return t(_)},children:(F,L)=>{var R=S(),w=k(R);{var u=B=>{lr(B,{get email(){return t(f)}})};P(w,B=>{t(a),t(f),M(()=>t(a).hasHIBP&&t(f))&&B(u)})}s(F,R)},$$slots:{default:!0}})};P(x,y=>{t(a)&&y(b)})}s(l,i),z(),v()}export{mr as default};
