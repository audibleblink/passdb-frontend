import{p as j,b as F,f as k,i as C,e as n,g as E,A as we,B as K,F as D,q as t,u as U,m as ee,o as Mt,s as q,aX as Rt,au as He,ay as ct,aY as zt,ab as $,a as R,h as x,j as J,r as Z,k as c,n as Q,l as W,w as jt,x as B,aZ as Et,a_ as Lt,a$ as vt,b0 as Dt,a4 as ge,a6 as he,b1 as Ht,Y as Ye,b2 as $t,b3 as Kt,b4 as Nt,b5 as Ot,Q as Je,at as Vt,b6 as Ke,ac as te,aW as ht,ap as Gt,aP as At,N as ye,Z as T,b7 as yt,_ as O,a9 as ie,aa as ut,a8 as $e,ag as Ut,R as qt,b8 as Yt,b9 as Jt}from"./vendor-COGkPp8V.js";import{c as ae,I as _t,B as Le,a as kt,b as qe,n as Pt,k as nt}from"./index-CSj82Wx2.js";class St{component;props;constructor(e,s={}){this.component=e,this.props=s}}class Zt{snippet;params;constructor(e,s){this.snippet=e,this.params=s}}function ot(l,e){return new St(l,e)}function lt(l,e){j(e,!0);var s=F(),v=k(s);{var r=a=>{var f=we();K(()=>D(f,e.content)),n(a,f)},o=(a,f)=>{{var d=b=>{var h=F();const i=U(()=>e.content(e.context));var m=k(h);{var g=_=>{var P=F();const H=U(()=>{const{component:y,props:u}=t(i);return{Component:y,props:u}});var z=k(P);ee(z,()=>t(H).Component,(y,u)=>{u(y,Mt(()=>t(H).props))}),n(_,P)},p=(_,P)=>{{var H=y=>{var u=F();const I=U(()=>{const{snippet:S,params:V}=t(i);return{snippet:S,params:V}});var N=k(u);q(N,()=>t(I).snippet,()=>t(I).params),n(y,u)},z=y=>{var u=we();K(()=>D(u,t(i))),n(y,u)};C(_,y=>{t(i)instanceof Zt?y(H):y(z,!1)},P)}};C(m,_=>{t(i)instanceof St?_(g):_(p,!1)})}n(b,h)};C(a,b=>{e.content instanceof Function&&b(d)},f)}};C(v,a=>{typeof e.content=="string"?a(r):a(o,!1)})}n(l,s),E()}function Qt(l){const e=De({state:{},onStateChange(){},renderFallbackValue:null,mergeOptions:(o,a)=>De(o,a)},l),s=Rt(e);let v=He(ct(s.initialState));function r(){s.setOptions(o=>De(o,l,{state:De(t(v),l.state||{}),onStateChange:a=>{a instanceof Function?$(v,a(t(v)),!0):$(v,De(t(v),a),!0),l.onStateChange?.(a)}}))}return r(),zt(()=>{r()}),s}function De(...l){const e={};for(let s=0;s<l.length;s++){let v=l[s];if(typeof v=="function"&&(v=v()),v){const r=Object.getOwnPropertyDescriptors(v);for(const o in r)o in e||Object.defineProperty(e,o,{enumerable:!0,get(){for(let a=l.length-1;a>=0;a--){let f=l[a];typeof f=="function"&&(f=f());const d=(f||{})[o];if(d!==void 0)return d}}})}}return e}var Wt=x('<div class="relative w-full overflow-auto"><table><!></table></div>');function Xt(l,e){j(e,!0);let s=R(e,"ref",15,null),v=Z(e,["$$slots","$$events","$$legacy","ref","class","children"]);var r=Wt(),o=c(r);J(o,f=>({class:f,...v}),[()=>ae("w-full caption-bottom text-sm",e.class)]);var a=c(o);q(a,()=>e.children??Q),W(o,f=>s(f),()=>s()),n(l,r),E()}var ea=x("<tbody><!></tbody>");function ta(l,e){j(e,!0);let s=R(e,"ref",15,null),v=Z(e,["$$slots","$$events","$$legacy","ref","class","children"]);var r=ea();J(r,a=>({class:a,...v}),[()=>ae("[&_tr:last-child]:border-0",e.class)]);var o=c(r);q(o,()=>e.children??Q),W(r,a=>s(a),()=>s()),n(l,r),E()}var aa=x("<td><!></td>");function xt(l,e){j(e,!0);let s=R(e,"ref",15,null),v=Z(e,["$$slots","$$events","$$legacy","ref","class","children"]);var r=aa();J(r,a=>({class:a,...v}),[()=>ae("p-4 align-middle [&:has([role=checkbox])]:pr-0",e.class)]);var o=c(r);q(o,()=>e.children??Q),W(r,a=>s(a),()=>s()),n(l,r),E()}var ra=x("<th><!></th>");function sa(l,e){j(e,!0);let s=R(e,"ref",15,null),v=Z(e,["$$slots","$$events","$$legacy","ref","class","children"]);var r=ra();J(r,a=>({class:a,...v}),[()=>ae("text-muted-foreground h-12 px-4 text-left align-middle font-medium [&:has([role=checkbox])]:pr-0",e.class)]);var o=c(r);q(o,()=>e.children??Q),W(r,a=>s(a),()=>s()),n(l,r),E()}var na=x("<thead><!></thead>");function oa(l,e){j(e,!0);let s=R(e,"ref",15,null),v=Z(e,["$$slots","$$events","$$legacy","ref","class","children"]);var r=na();J(r,a=>({class:a,...v}),[()=>ae("[&_tr]:border-b",e.class)]);var o=c(r);q(o,()=>e.children??Q),W(r,a=>s(a),()=>s()),n(l,r),E()}var la=x("<tr><!></tr>");function it(l,e){j(e,!0);let s=R(e,"ref",15,null),v=Z(e,["$$slots","$$events","$$legacy","ref","class","children"]);var r=la();J(r,a=>({class:a,...v}),[()=>ae("hover:bg-secondary/20 hover:text-secondary-foreground data-[state=selected]:bg-muted border-b transition-colors",e.class)]);var o=c(r);q(o,()=>e.children??Q),W(r,a=>s(a),()=>s()),n(l,r),E()}const bt="passdb-table-settings",Ue={pageSize:15};function ia(){const l=(()=>{if(typeof window<"u")try{const o=localStorage.getItem(bt);if(o){const a=JSON.parse(o);return{...Ue,...a}}}catch(o){console.warn("Failed to parse table settings from localStorage:",o)}return Ue})(),{subscribe:e,set:s,update:v}=jt(l);function r(o){if(typeof window<"u")try{localStorage.setItem(bt,JSON.stringify(o))}catch(a){console.warn("Failed to save table settings to localStorage:",a)}}return{subscribe:e,setPageSize:o=>{v(a=>{const f={...a,pageSize:o};return r(f),f})},reset:()=>{r(Ue),s(Ue)}}}const pt=ia();var da=x('<div class="text-sm text-muted-foreground flex-shrink-0"><!></div>'),ca=x("<!> <!>",1),va=x("<!> <!>",1),ua=x('<div class="space-y-4"><div class="flex items-center justify-between gap-4 flex-wrap"><div class="flex-1 max-w-sm min-w-0"><!></div> <!> <div class="flex items-center space-x-2 flex-shrink-0"><!> <!> <span class="text-sm text-muted-foreground"> </span> <!> <!></div></div> <div class="bg-card rounded-lg shadow-md border-border overflow-hidden"><!></div> <div class="flex items-center justify-end gap-2"><span class="text-sm text-muted-foreground">Items per page:</span> <!></div></div>');function fa(l,e){j(e,!0);const[s,v]=Ye(),r=()=>Je(pt,"$tableSettings",s),o=U(()=>e.pageSize||r().pageSize);let a=He(""),f=He(ct([])),d=He(ct([])),b=He(0);const h=U(()=>({pageIndex:t(b),pageSize:t(o)})),i=Qt({get data(){return e.data},get columns(){return e.columns},getCoreRowModel:Ot(),getSortedRowModel:Nt(),getFilteredRowModel:Kt(),getPaginationRowModel:$t(),state:{get globalFilter(){return t(a)},get sorting(){return t(f)},get columnFilters(){return t(d)},get pagination(){return t(h)}},onGlobalFilterChange:w=>{$(a,typeof w=="function"?w(t(a)):w,!0),$(b,0)},onSortingChange:w=>{$(f,typeof w=="function"?w(t(f)):w,!0)},onColumnFiltersChange:w=>{$(d,typeof w=="function"?w(t(d)):w,!0)},onPaginationChange:w=>{const M=typeof w=="function"?w(t(h)):w;$(b,M.pageIndex,!0)},globalFilterFn:"includesString"});function m(w){const M=w.target;i.setGlobalFilter(M.value)}var g=ua(),p=c(g),_=c(p),P=c(_);const H=U(()=>i.getState().globalFilter??"");_t(P,{placeholder:"Filter results...",get value(){return t(H)},oninput:m,class:"w-full","data-filter-input":!0});var z=B(_,2);{var y=w=>{var M=da(),G=c(M);{var X=L=>{var A=we();K((oe,fe)=>D(A,`Showing ${oe??""} of ${fe??""} results`),[()=>i.getFilteredRowModel().rows.length,()=>i.getCoreRowModel().rows.length]),n(L,A)},ne=L=>{var A=we("No results found for current filter");n(L,A)};C(G,L=>{i.getFilteredRowModel().rows.length>0?L(X):L(ne,!1)})}n(w,M)};C(z,w=>{i.getState().globalFilter&&i.getState().globalFilter.length>0&&w(y)})}var u=B(z,2),I=c(u);const N=U(()=>!i.getCanPreviousPage());Le(I,{variant:"outline",size:"sm",onclick:()=>i.setPageIndex(0),get disabled(){return t(N)},children:(w,M)=>{Et(w,{class:"h-4 w-4"})},$$slots:{default:!0}});var S=B(I,2);const V=U(()=>!i.getCanPreviousPage());Le(S,{variant:"outline",size:"sm",onclick:()=>i.previousPage(),get disabled(){return t(V)},"data-pagination-prev":!0,children:(w,M)=>{Lt(w,{class:"h-4 w-4"})},$$slots:{default:!0}});var re=B(S,2),ve=c(re),ue=B(re,2);const ke=U(()=>!i.getCanNextPage());Le(ue,{variant:"outline",size:"sm",onclick:()=>i.nextPage(),get disabled(){return t(ke)},"data-pagination-next":!0,children:(w,M)=>{vt(w,{class:"h-4 w-4"})},$$slots:{default:!0}});var Pe=B(ue,2);const se=U(()=>!i.getCanNextPage());Le(Pe,{variant:"outline",size:"sm",onclick:()=>i.setPageIndex(i.getPageCount()-1),get disabled(){return t(se)},children:(w,M)=>{Dt(w,{class:"h-4 w-4"})},$$slots:{default:!0}});var de=B(p,2),ce=c(de);ee(ce,()=>Xt,(w,M)=>{M(w,{children:(G,X)=>{var ne=va(),L=k(ne);ee(L,()=>oa,(oe,fe)=>{fe(oe,{class:"bg-muted/50",children:(Ne,Oe)=>{var Te=F(),Ze=k(Te);ge(Ze,17,()=>i.getHeaderGroups(),he,(Qe,We)=>{var le=F(),me=k(le);ee(me,()=>it,(Fe,Be)=>{Be(Fe,{class:" border-border hover:bg-transparent bg-background",children:(Ie,Ve)=>{var _e=F(),xe=k(_e);ge(xe,17,()=>t(We).headers,he,(Me,Y)=>{var be=F(),Ge=k(be);ee(Ge,()=>sa,(Re,ze)=>{ze(Re,{class:"text-card-foreground font-semibold",children:(Xe,et)=>{var je=F(),tt=k(je);{var at=Ee=>{var Ae=F(),ft=k(Ae);{var rt=pe=>{const st=U(()=>t(Y).column.getToggleSortingHandler());Le(pe,{variant:"ghost",get onclick(){return t(st)},class:"h-auto p-0 font-semibold hover:bg-secondary hover:text-secondary-foreground",children:(Ft,cr)=>{var mt=ca(),gt=k(mt);const Bt=U(()=>t(Y).getContext());lt(gt,{get content(){return t(Y).column.columnDef.header},get context(){return t(Bt)}});var It=B(gt,2);Ht(It,{class:"ml-2 h-4 w-4"}),n(Ft,mt)},$$slots:{default:!0}})},Tt=pe=>{const st=U(()=>t(Y).getContext());lt(pe,{get content(){return t(Y).column.columnDef.header},get context(){return t(st)}})};C(ft,pe=>{t(Y).column.getCanSort()?pe(rt):pe(Tt,!1)})}n(Ee,Ae)};C(tt,Ee=>{t(Y).isPlaceholder||Ee(at)})}n(Xe,je)},$$slots:{default:!0}})}),n(Me,be)}),n(Ie,_e)},$$slots:{default:!0}})}),n(Qe,le)}),n(Ne,Te)},$$slots:{default:!0}})});var A=B(L,2);ee(A,()=>ta,(oe,fe)=>{fe(oe,{children:(Ne,Oe)=>{var Te=F(),Ze=k(Te);{var Qe=le=>{var me=F(),Fe=k(me);ge(Fe,17,()=>i.getRowModel().rows,he,(Be,Ie,Ve)=>{var _e=F(),xe=k(_e);ee(xe,()=>it,(Me,Y)=>{Y(Me,{class:`border-b border-border/50 transition-colors ${Ve%2===0?"bg-background/75 hover:bg-secondary/20":"bg-background/90 hover:bg-secondary/30"}`,"data-table-row":!0,children:(be,Ge)=>{var Re=F(),ze=k(Re);ge(ze,17,()=>t(Ie).getVisibleCells(),he,(Xe,et)=>{var je=F(),tt=k(je);ee(tt,()=>xt,(at,Ee)=>{Ee(at,{class:"text-card-foreground","data-table-cell":!0,children:(Ae,ft)=>{const rt=U(()=>t(et).getContext());lt(Ae,{get content(){return t(et).column.columnDef.cell},get context(){return t(rt)}})},$$slots:{default:!0}})}),n(Xe,je)}),n(be,Re)},$$slots:{default:!0}})}),n(Be,_e)}),n(le,me)},We=le=>{var me=F(),Fe=k(me);ee(Fe,()=>it,(Be,Ie)=>{Ie(Be,{children:(Ve,_e)=>{var xe=F(),Me=k(xe);ee(Me,()=>xt,(Y,be)=>{be(Y,{get colspan(){return e.columns.length},class:"h-24 text-center",children:(Ge,Re)=>{var ze=we("No results found.");n(Ge,ze)},$$slots:{default:!0}})}),n(Ve,xe)},$$slots:{default:!0}})}),n(le,me)};C(Ze,le=>{i.getRowModel().rows?.length?le(Qe):le(We,!1)})}n(Ne,Te)},$$slots:{default:!0}})}),n(G,ne)},$$slots:{default:!0}})});var Se=B(de,2),Ce=B(c(Se),2);_t(Ce,{type:"number",min:"1",max:"1000",get value(){return i.getState().pagination.pageSize},oninput:w=>{const M=w.target,G=parseInt(M.value);G>0&&G<=1e3&&(i.setPageSize(G),pt.setPageSize(G))},class:"w-20 h-8 text-center"}),K((w,M)=>D(ve,`Page ${w??""} of ${M??""}`),[()=>i.getState().pagination.pageIndex+1,()=>Math.max(1,i.getPageCount())]),n(l,g),E(),v()}var ma=(l,e,s)=>e(`/email/${s.username}@${s.domain}`,`Email: ${s.username}@${s.domain}`),ga=x('<button class="text-muted-foreground hover:text-secondary-foreground transition-colors" title="View email breach info"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></button>'),ha=x('<div class="w-4 h-4"></div>'),_a=(l,e,s)=>e(`/username/${s.username}`,`Username: ${s.username}`),xa=x('<button class="text-primary hover:text-secondary-foreground hover:underline cursor-pointer transition-colors"> </button>'),ba=x('<span class="text-muted-foreground">-</span>'),pa=x('<div class="flex items-center gap-2"><!> <!></div>'),wa=(l,e,s)=>e(`/domain/${s.domain}`,`Domain: ${s.domain}`),ya=x('<button class="text-primary hover:text-primary/80 hover:underline cursor-pointer transition-colors"> </button>'),ka=x('<span class="text-muted-foreground">-</span>'),Pa=(l,e,s)=>e(`/password/${s.password}`,`Password: ${s.password.length>20?s.password.substring(0,20)+"...":s.password}`),Sa=x('<button class="text-primary hover:text-secondary-foreground hover:underline cursor-pointer transition-colors block truncate hover:whitespace-normal hover:break-all"> </button>'),Ca=x('<span class="text-muted-foreground">-</span>'),Ta=x('<div class="font-mono max-w-xs"><!></div>');function dt(l,e){j(e,!0);const[s,v]=Ye(),r=()=>Je(kt,"$currentRoute",s);let o=R(e,"showEmailLink",3,!1);function a(i,m){qe.addBreadcrumb(m,i),Pt(i)}var f=F(),d=k(f);{var b=i=>{var m=pa(),g=c(m);{var p=y=>{var u=ga();u.__click=[ma,a,e],K(()=>Ke(u,"aria-label",`View email breach info for ${e.username??""}@${e.domain??""}`)),n(y,u)},_=(y,u)=>{{var I=N=>{var S=ha();n(N,S)};C(y,N=>{o()&&!r().match("/email/")&&N(I)},u)}};C(g,y=>{o()&&!r().match("/email/")&&e.username&&e.username!=="-"&&e.domain&&e.domain!=="-"?y(p):y(_,!1)})}var P=B(g,2);{var H=y=>{var u=xa();u.__click=[_a,a,e];var I=c(u);K(()=>D(I,e.username)),n(y,u)},z=y=>{var u=ba();n(y,u)};C(P,y=>{e.username&&e.username!=="-"?y(H):y(z,!1)})}n(i,m)},h=(i,m)=>{{var g=_=>{var P=F(),H=k(P);{var z=u=>{var I=ya();I.__click=[wa,a,e];var N=c(I);K(()=>D(N,e.domain)),n(u,I)},y=u=>{var I=ka();n(u,I)};C(H,u=>{e.domain&&e.domain!=="-"?u(z):u(y,!1)})}n(_,P)},p=(_,P)=>{{var H=z=>{var y=Ta(),u=c(y);{var I=S=>{var V=Sa();V.__click=[Pa,a,e];var re=c(V);K(()=>{Ke(V,"title",e.password),D(re,e.password)}),n(S,V)},N=S=>{var V=Ca();n(S,V)};C(u,S=>{e.password&&e.password!=="-"?S(I):S(N,!1)})}n(z,y)};C(_,z=>{e.type==="password"&&z(H)},P)}};C(i,_=>{e.type==="domain"?_(g):_(p,!1)},m)}};C(d,i=>{e.type==="username"?i(b):i(h,!1)})}n(l,f),E(),v()}Vt(["click"]);const Fa=[{accessorKey:"username",header:"Username",enableSorting:!0,enableGlobalFilter:!0,cell:({row:l})=>{const e=l.getValue("username"),s=l.original.domain;return ot(dt,{type:"username",username:e,domain:s,showEmailLink:!0})}},{accessorKey:"domain",header:"Domain",enableSorting:!0,enableGlobalFilter:!0,cell:({row:l})=>{const e=l.getValue("domain");return ot(dt,{type:"domain",domain:e})}},{accessorKey:"password",header:"Password",enableSorting:!1,enableGlobalFilter:!0,cell:({row:l})=>{const e=l.getValue("password");return ot(dt,{type:"password",password:e})}}];var Ba=x('<div class="max-w-4xl mx-auto"><!></div>');function Ia(l,e){j(e,!1);let s="";typeof window<"u"&&(s=window.location.search.substring(1));let v=R(e,"results",8);const r=(s||"").split("&").filter(Boolean),o=te(r.reduce((d,b)=>{const[h,i]=b.split("=");return h&&i&&(d[h]=i),d},{}));ht(o,t(o).page=t(o).page?parseInt(String(t(o).page)):1),ht(o,t(o).per_page=t(o).per_page?parseInt(String(t(o).per_page)):void 0),Gt(()=>{nt.setupResultsShortcuts(),nt.setupTableShortcuts()}),At(()=>{nt.setContext("global")}),ye();var a=Ba(),f=c(a);fa(f,{get columns(){return Fa},get data(){return v()},get pageSize(){return t(o),T(()=>t(o).per_page)}}),n(l,a),E()}var Ma=x('<p class="mt-4 text-muted-foreground"> </p>'),Ra=x('<div class="flex flex-col items-center justify-center p-8"><div class="animate-spin rounded-full h-12 w-12 border-b-2 border-primary"></div> <!></div>'),za=x('<div class="animate-pulse"><div class="h-4 bg-muted rounded w-3/4 mb-2"></div> <div class="h-4 bg-muted rounded w-1/2"></div></div>'),ja=x('<div class="space-y-4 p-4"></div>'),Ea=x('<div class="flex items-center justify-center space-x-2 p-8"><div class="w-3 h-3 bg-primary rounded-full animate-bounce" style="animation-delay: 0ms"></div> <div class="w-3 h-3 bg-primary rounded-full animate-bounce" style="animation-delay: 150ms"></div> <div class="w-3 h-3 bg-primary rounded-full animate-bounce" style="animation-delay: 300ms"></div></div>');function Ct(l,e){let s=R(e,"type",3,"spinner"),v=R(e,"message",3,"");var r=F(),o=k(r);{var a=d=>{var b=Ra(),h=B(c(b),2);{var i=m=>{var g=Ma(),p=c(g);K(()=>D(p,v())),n(m,g)};C(h,m=>{v()&&m(i)})}n(d,b)},f=(d,b)=>{{var h=m=>{var g=ja();ge(g,20,()=>Array(3),he,(p,_)=>{var P=za();n(p,P)}),n(m,g)},i=(m,g)=>{{var p=_=>{var P=Ea();n(_,P)};C(m,_=>{s()==="dots"&&_(p)},g)}};C(d,m=>{s()==="skeleton"?m(h):m(i,!1)},b)}};C(o,d=>{s()==="spinner"?d(a):d(f,!1)})}n(l,r)}var La=x('<div class="max-w-4xl mx-auto"><div class="text-center py-12"><svg class="mx-auto h-12 w-12 text-muted-foreground" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> <h3 class="mt-2 text-sm font-medium text-foreground">No results found</h3> <p class="mt-1 text-sm text-muted-foreground">Try adjusting your search terms</p></div></div>'),Da=x('<div class="max-w-4xl mx-auto"><div class="bg-destructive/10 border border-destructive/30 rounded-lg p-6"><div class="flex"><div class="flex-shrink-0"><svg class="h-5 w-5 text-destructive" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div> <div class="ml-3"><h3 class="text-sm font-medium text-destructive">Failed to fetch results</h3> <p class="mt-2 text-sm text-destructive"> </p> <p class="mt-2 text-sm text-destructive">Please check your API host configuration and try again.</p></div></div></div></div>'),Ha=x('<div class="px-4 py-8"><!></div>');function $a(l,e){j(e,!1);let s=R(e,"endpoint",8),v=localStorage.getItem("host")||"http://localhost:4567",r=0;const o=3;async function a(b){try{const h=await fetch(`${v}${b}`);if(!h.ok){let m=`HTTP ${h.status}`;try{const g=await h.text();g?m+=`: ${g}`:m+=` - ${h.statusText}`}catch{m+=` - ${h.statusText}`}throw new Error(m)}const i=await h.json();return r=0,i}catch(h){if(r<o)return r++,await new Promise(i=>setTimeout(i,1e3*Math.pow(2,r))),a(b);throw h instanceof Error?h:new Error(`Network error: ${String(h)}`)}}ye();var f=Ha(),d=c(f);yt(d,()=>(O(s()),T(()=>a(s()))),b=>{Ct(b,{type:"spinner",message:"Searching database..."})},(b,h)=>{var i=F(),m=k(i);{var g=_=>{var P=La();n(_,P)},p=_=>{Ia(_,{get results(){return t(h)}})};C(m,_=>{O(t(h)),T(()=>t(h).length===0)?_(g):_(p,!1)})}n(b,i)},(b,h)=>{var i=Da(),m=c(i),g=c(m),p=B(c(g),2),_=B(c(p),2),P=c(_);K(()=>D(P,(O(t(h)),T(()=>t(h).message)))),n(b,i)}),n(l,f),E()}var Ka=x("<nav><!></nav>");function Na(l,e){j(e,!0);let s=R(e,"ref",15),v=Z(e,["$$slots","$$events","$$legacy","ref","class","children"]);var r=Ka();J(r,()=>({class:e.class,"aria-label":"breadcrumb",...v}));var o=c(r);q(o,()=>e.children??Q),W(r,a=>s(a),()=>s()),n(l,r),E()}var Oa=x("<li><!></li>");function Va(l,e){j(e,!0);let s=R(e,"ref",15,null),v=Z(e,["$$slots","$$events","$$legacy","ref","class","children"]);var r=Oa();J(r,a=>({class:a,...v}),[()=>ae("inline-flex items-center gap-1.5",e.class)]);var o=c(r);q(o,()=>e.children??Q),W(r,a=>s(a),()=>s()),n(l,r),E()}var Ga=x("<li><!></li>");function Aa(l,e){j(e,!0);let s=R(e,"ref",15,null),v=Z(e,["$$slots","$$events","$$legacy","ref","class","children"]);var r=Ga();J(r,d=>({role:"presentation","aria-hidden":"true",class:d,...v}),[()=>ae("[&>svg]:size-3.5",e.class)]);var o=c(r);{var a=d=>{var b=F(),h=k(b);q(h,()=>e.children??Q),n(d,b)},f=d=>{vt(d,{})};C(o,d=>{e.children?d(a):d(f,!1)})}W(r,d=>s(d),()=>s()),n(l,r),E()}var Ua=x("<ol><!></ol>");function qa(l,e){j(e,!0);let s=R(e,"ref",15,null),v=Z(e,["$$slots","$$events","$$legacy","ref","class","children"]);var r=Ua();J(r,a=>({class:a,...v}),[()=>ae("text-muted-foreground flex flex-wrap items-center gap-1.5 break-words text-sm sm:gap-2.5",e.class)]);var o=c(r);q(o,()=>e.children??Q),W(r,a=>s(a),()=>s()),n(l,r),E()}var Ya=x("<span><!></span>");function Ja(l,e){j(e,!0);let s=R(e,"ref",15,null),v=Z(e,["$$slots","$$events","$$legacy","ref","class","children"]);var r=Ya();J(r,a=>({role:"link","aria-disabled":"true","aria-current":"page",class:a,...v}),[()=>ae("text-foreground font-normal",e.class)]);var o=c(r);q(o,()=>e.children??Q),W(r,a=>s(a),()=>s()),n(l,r),E()}var Za=x('<div class="px-2 py-1.5 text-sm font-bold text-muted-foreground bg-muted/30 rounded border border-border/20 flex items-center justify-center min-w-[32px]">...</div>'),Qa=x("<button> </button>"),Wa=x("<!> <!>",1),Xa=x('<div class="max-w-4xl mx-auto mt-6 mb-6 px-4"><div class="bg-muted/20 rounded-md py-2 px-3 border border-border/30"><!></div></div>');function er(l,e){j(e,!1);const[s,v]=Ye(),r=()=>Je(qe,"$breadcrumbs",s),o=te(),a=te(),f=te();function d(m,g){qe.navigateToBreadcrumb(m),Pt(g)}ie(()=>r(),()=>{$(o,(()=>{const m=r().length;if(m<=4)return r().map((g,p)=>({...g,originalIndex:p,showEllipsis:!1}));{const g=[];return g.push({...r()[0],originalIndex:0,showEllipsis:!1}),g.push({label:"...",path:"",timestamp:0,originalIndex:-1,showEllipsis:!0}),r().slice(-3).forEach((_,P)=>{g.push({..._,originalIndex:m-3+P,showEllipsis:!1})}),g}})())}),ie(()=>r(),()=>{$(a,(()=>{const m=r().length;return m<=3?"text-sm px-3 py-1.5":m<=4?"text-sm px-2.5 py-1.5":"text-xs px-2 py-1.5"})())}),ie(()=>r(),()=>{$(f,r().length>4)}),ut(),ye();var b=F(),h=k(b);{var i=m=>{var g=Xa(),p=c(g),_=c(p);Na(_,{children:(P,H)=>{qa(P,{class:"gap-1 flex-nowrap overflow-hidden",children:(z,y)=>{var u=F(),I=k(u);ge(I,1,()=>t(o),he,(N,S,V)=>{var re=Wa(),ve=k(re);const ue=$e(()=>t(f)?"flex-shrink min-w-0":"flex-shrink-0");Va(ve,{get class(){return t(ue)},children:(se,de)=>{var ce=F(),Se=k(ce);{var Ce=M=>{var G=Za();n(M,G)},w=(M,G)=>{{var X=L=>{const A=$e(()=>t(a)),oe=$e(()=>t(f)?"truncate max-w-[200px]":"");Ja(L,{get class(){return`${t(A)??""} font-medium text-foreground bg-background/40 rounded border border-border/40 ${t(oe)??""}`},get title(){return t(S),T(()=>t(S).label)},children:(fe,Ne)=>{var Oe=we();K(()=>D(Oe,(t(S),T(()=>t(S).label)))),n(fe,Oe)},$$slots:{default:!0}})},ne=L=>{var A=Qa(),oe=c(A);K(()=>{Ut(A,1,`${t(a)??""} text-muted-foreground hover:text-secondary-foreground hover:bg-secondary/60 transition-all duration-200 cursor-pointer rounded border border-transparent hover:border-border/40 ${t(f)?"truncate max-w-[200px]":""}`),Ke(A,"title",(t(S),T(()=>t(S).label))),D(oe,(t(S),T(()=>t(S).label)))}),qt("click",A,()=>d(t(S).originalIndex,t(S).path)),n(L,A)};C(M,L=>{t(S),r(),T(()=>t(S).originalIndex===r().length-1)?L(X):L(ne,!1)},G)}};C(Se,M=>{t(S),T(()=>t(S).showEllipsis)?M(Ce):M(w,!1)})}n(se,ce)},$$slots:{default:!0}});var ke=B(ve,2);{var Pe=se=>{Aa(se,{class:"mx-1 flex-shrink-0",children:(de,ce)=>{vt(de,{class:"h-3 w-3 text-muted-foreground/50"})},$$slots:{default:!0}})};C(ke,se=>{t(o),T(()=>V<t(o).length-1)&&se(Pe)})}n(N,re)}),n(z,u)},$$slots:{default:!0}})},$$slots:{default:!0}}),n(m,g)};C(h,m=>{r(),T(()=>r().length>1)&&m(i)})}n(l,b),E(),v()}var tr=x('<div class="space-y-8"><!> <div class="px-4 py-8 space-y-8"><!> <!></div></div>');function ar(l,e){j(e,!1);const s=te(),v=te();let r=te("");typeof window<"u"&&$(r,window.location.search.substring(1));let o=R(e,"params",24,()=>({})),a=R(e,"apiPath",8),f=R(e,"paramKey",8),d=R(e,"breadcrumbLabel",8),b=R(e,"formatBreadcrumb",8,_=>_);ie(()=>(O(o()),O(f())),()=>{$(s,o()[f()])}),ie(()=>(O(a()),t(s),t(r)),()=>{$(v,`/api/v1/${a()}/${t(s)}?${t(r)}`)}),ie(()=>(t(s),O(b()),O(d())),()=>{if(t(s)){const _=b()(decodeURIComponent(t(s)));qe.addFromLocation(`${d()}: ${_}`)}}),ut(),ye();var h=tr(),i=c(h);er(i,{});var m=B(i,2),g=c(m);$a(g,{get endpoint(){return t(v)}});var p=B(g,2);Yt(p,e,"default",{}),n(l,h),E()}function wt(l){const e=document.createElement("div");return e.textContent=l,e.innerHTML}var rr=x('<div class="flex-shrink-0"><img class="w-12 h-12 rounded-lg object-cover shadow-sm"/></div>'),sr=x('<div class="p-6"><div class="flex items-start space-x-4"><!> <div class="flex-1 min-w-0"><div class="flex items-center justify-between"><h4 class="text-lg font-medium text-card-foreground"> </h4> <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-destructive/10 text-destructive"> </span></div> <div class="mt-2 flex items-center space-x-4 text-sm text-muted-foreground"><span class="flex items-center"><svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 0l-3-3m3 3l-3 3"></path></svg> </span> <span class="flex items-center"><svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3a4 4 0 118 0v4m-4 6v8m-6 0h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2z"></path></svg> </span></div> <div class="mt-3 text-sm text-card-foreground"><!></div></div></div></div>'),nr=x('<div class="max-w-4xl mx-auto mt-8 bg-card rounded-lg shadow-md"><div class="px-6 py-4 border-b border-border"><h3 class="text-lg font-semibold text-card-foreground">Data Breaches</h3> <p class="text-sm text-muted-foreground"> </p></div> <div class="divide-y divide-border"></div></div>'),or=x(`<div class="max-w-4xl mx-auto mt-8 text-center py-6"><svg class="mx-auto h-12 w-12 text-emerald-600 dark:text-emerald-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> <h3 class="mt-2 text-sm font-medium text-foreground">No breaches found</h3> <p class="mt-1 text-sm text-muted-foreground">This email hasn't been found in any known data breaches</p></div>`),lr=x('<div class="max-w-4xl mx-auto"><div class="mt-8 bg-accent/10 border border-accent/30 rounded-lg p-4"><div class="flex"><div class="flex-shrink-0"><svg class="h-5 w-5 text-amber-600 dark:text-amber-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg></div> <div class="ml-3"><h3 class="text-sm font-medium text-accent-foreground">Unable to check breaches</h3> <p class="mt-1 text-sm text-accent-foreground"> </p></div></div></div></div>'),ir=x('<div class="max-w-4xl mx-auto mt-8"><!></div>');function dr(l,e){j(e,!1);let s=R(e,"email",8),v=localStorage.getItem("host");async function r(f){const d=await fetch(`${v}/breaches/${f}`);if(!d.ok)throw new Error(`HTTP error! status: ${d.status}`);return await d.json()}ye();var o=F(),a=k(o);yt(a,()=>(O(s()),T(()=>r(s()))),f=>{var d=ir(),b=c(d);Ct(b,{type:"spinner",message:"Checking breach databases..."}),n(f,d)},(f,d)=>{var b=F(),h=k(b);{var i=g=>{var p=nr(),_=c(p),P=B(c(_),2),H=c(P),z=B(_,2);ge(z,5,()=>t(d),he,(y,u)=>{var I=sr(),N=c(I),S=c(N);{var V=X=>{var ne=rr(),L=c(ne);K(()=>{Ke(L,"src",(t(u),T(()=>t(u).LogoPath))),Ke(L,"alt",(t(u),T(()=>t(u).Title)))}),n(X,ne)};C(S,X=>{t(u),T(()=>t(u).LogoPath)&&X(V)})}var re=B(S,2),ve=c(re),ue=c(ve),ke=c(ue),Pe=B(ue,2),se=c(Pe),de=B(ve,2),ce=c(de),Se=B(c(ce)),Ce=B(ce,2),w=B(c(Ce)),M=B(de,2),G=c(M);Jt(G,()=>(O(wt),t(u),T(()=>wt(t(u).Description)))),K(X=>{D(ke,(t(u),T(()=>t(u).Title))),D(se,`${X??""} accounts`),D(Se,` ${t(u),T(()=>t(u).Domain)??""}`),D(w,` ${t(u),T(()=>t(u).Date)??""}`)},[()=>(t(u),T(()=>Number(t(u).Count).toLocaleString()))],$e),n(y,I)}),K(()=>D(H,`Found ${O(t(d)),T(()=>t(d).length)??""} breach${O(t(d)),T(()=>t(d).length!==1?"es":"")??""} for this email`)),n(g,p)},m=g=>{var p=or();n(g,p)};C(h,g=>{O(t(d)),T(()=>t(d).length>0)?g(i):g(m,!1)})}n(f,b)},(f,d)=>{var b=lr(),h=c(b),i=c(h),m=B(c(i),2),g=B(c(m),2),p=c(g);K(()=>D(p,(O(t(d)),T(()=>t(d).message)))),n(f,b)}),n(l,o),E()}function fr(l,e){j(e,!1);const[s,v]=Ye(),r=()=>Je(kt,"$currentRoute",s),o=te(),a=te(),f=te();let d=R(e,"params",24,()=>({}));function b(p){return p.length>20?p.substring(0,20)+"...":p}const h={email:{apiPath:"emails",paramKey:"email",label:"Email",hasHIBP:!0,formatter:void 0},domain:{apiPath:"domains",paramKey:"domain",label:"Domain",hasHIBP:!1,formatter:void 0},password:{apiPath:"passwords",paramKey:"password",label:"Password",hasHIBP:!1,formatter:b},username:{apiPath:"usernames",paramKey:"name",label:"Username",hasHIBP:!1,formatter:void 0}};ie(()=>r(),()=>{$(o,r().split("/")[1])}),ie(()=>t(o),()=>{$(a,h[t(o)])}),ie(()=>(O(d()),t(a)),()=>{$(f,d()[t(a)?.paramKey])}),ut(),ye();var i=F(),m=k(i);{var g=p=>{const _=$e(()=>(t(a),T(()=>t(a).formatter||(P=>P))));ar(p,{get params(){return d()},get apiPath(){return t(a),T(()=>t(a).apiPath)},get paramKey(){return t(a),T(()=>t(a).paramKey)},get breadcrumbLabel(){return t(a),T(()=>t(a).label)},get formatBreadcrumb(){return t(_)},children:(P,H)=>{var z=F(),y=k(z);{var u=I=>{dr(I,{get email(){return t(f)}})};C(y,I=>{t(a),t(f),T(()=>t(a).hasHIBP&&t(f))&&I(u)})}n(P,z)},$$slots:{default:!0}})};C(m,p=>{t(a)&&p(g)})}n(l,i),E(),v()}export{fr as default};
//# sourceMappingURL=SearchRoute-RGc1PdBy.js.map
